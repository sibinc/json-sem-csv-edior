// index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON CSV Tags Editor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>JSON CSV Tags Editor</h1>
            <p>Paste your JSON data below to edit the CSV tags</p>
        </div>

        <div class="input-area">
            <label>Input JSON:</label>
            <textarea id="jsonInput" placeholder="Paste your JSON here..."></textarea>
            <div id="errorMsg" class="error"></div>
            <button onclick="parseJson()">Load JSON</button>
        </div>

        <div id="tableContainer" class="table-container" style="display: none;">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Index</th>
                        <th>Code</th>
                        <th>Order</th>
                        <th>Head Name</th>
                        <th>Is Subject</th>
                        <th>Display Name</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>

        <div class="output-area">
            <label>Output JSON:</label>
            <textarea id="jsonOutput" readonly></textarea>
            <button onclick="copyToClipboard()">Copy to Clipboard</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>

// styles.css
body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #f5f5f5;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.input-area, .output-area {
    margin-bottom: 20px;
}
textarea {
    width: 100%;
    height: 150px;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: monospace;
}
.error {
    color: red;
    margin: 10px 0;
}
table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}
th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}
th {
    background-color: #f8f9fa;
}
input, select {
    width: 100%;
    padding: 6px;
    border: 1px solid #ddd;
    border-radius: 4px;
}
.table-container {
    overflow-x: auto;
}
button {
    padding: 8px 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
button:hover {
    background-color: #0056b3;
}
.header {
    margin-bottom: 20px;
}
h1 {
    color: #333;
    margin: 0 0 10px 0;
}

// script.js
let jsonData = null;

function parseJson() {
    const input = document.getElementById('jsonInput').value;
    const errorMsg = document.getElementById('errorMsg');
    const tableContainer = document.getElementById('tableContainer');
    
    try {
        const parsed = JSON.parse(input);
        if (!parsed.csvTags) {
            throw new Error('JSON must contain a csvTags array');
        }
        jsonData = parsed;
        errorMsg.textContent = '';
        tableContainer.style.display = 'block';
        renderTable();
        updateOutput();
    } catch (err) {
        errorMsg.textContent = 'Invalid JSON: ' + err.message;
        tableContainer.style.display = 'none';
        jsonData = null;
    }
}

function renderTable() {
    const tbody = document.getElementById('tableBody');
    tbody.innerHTML = '';

    jsonData.csvTags.forEach((tag, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index + 1}</td>
            <td><input type="text" value="${tag.code}" onchange="updateField(${index}, 'code', this.value)"></td>
            <td><input type="number" value="${tag.order}" onchange="updateField(${index}, 'order', this.value)"></td>
            <td><input type="text" value="${tag.headName}" onchange="updateField(${index}, 'headName', this.value)"></td>
            <td>
                <select onchange="updateField(${index}, 'isSubject', this.value === 'true')">
                    <option value="true" ${tag.isSubject ? 'selected' : ''}>True</option>
                    <option value="false" ${!tag.isSubject ? 'selected' : ''}>False</option>
                </select>
            </td>
            <td><input type="text" value="${tag.displayName}" onchange="updateField(${index}, 'displayName', this.value)"></td>
        `;
        tbody.appendChild(row);
    });
}

function updateField(index, field, value) {
    if (field === 'order') {
        value = parseInt(value) || 0;
    }
    jsonData.csvTags[index][field] = value;
    updateOutput();
}

function updateOutput() {
    const output = document.getElementById('jsonOutput');
    output.value = JSON.stringify(jsonData, null, 2);
}

function copyToClipboard() {
    const output = document.getElementById('jsonOutput');
    output.select();
    document.execCommand('copy');
    alert('Copied to clipboard!');
}

// README.md
# JSON CSV Tags Editor

A simple web-based editor for JSON CSV tags. This tool allows you to:
- Parse and validate JSON data
- Edit CSV tags in a table format
- Get formatted output JSON
- Copy modified JSON to clipboard

## Usage

1. Visit the GitHub Pages site
2. Paste your JSON data into the input textarea
3. Click "Load JSON" to parse and display the data
4. Edit fields in the table as needed
5. Copy the modified JSON from the output textarea

## Features

- JSON validation
- Table-based editing interface
- Real-time updates
- Copy to clipboard functionality
- Responsive design
